<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>ApplicationStartupListener.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">JsRuleEngine</a> &gt; <a href="index.source.html" class="el_package">com.js.core.startup</a> &gt; <span class="el_source">ApplicationStartupListener.java</span></div><h1>ApplicationStartupListener.java</h1><pre class="source lang-java linenums">/**
 *
 */
package com.js.core.startup;

import org.springframework.boot.context.event.ApplicationEnvironmentPreparedEvent;
import org.springframework.boot.context.event.ApplicationFailedEvent;
import org.springframework.boot.context.event.ApplicationPreparedEvent;
import org.springframework.boot.context.event.ApplicationReadyEvent;
import org.springframework.boot.context.event.ApplicationStartedEvent;
import org.springframework.boot.context.event.ApplicationStartingEvent;
import org.springframework.context.event.ContextClosedEvent;
import org.springframework.context.event.ContextRefreshedEvent;
import org.springframework.context.event.ContextStartedEvent;
import org.springframework.context.event.ContextStoppedEvent;
import org.springframework.context.event.EventListener;
import org.springframework.stereotype.Component;

import lombok.extern.slf4j.Slf4j;

/**
 * This class is used for performing any activities at startup and cleanup
 * operations before container shutdown.
 * 
 * @author goutam.mandal
 *
 */
<span class="fc" id="L28">@Slf4j</span>
@Component
<span class="fc" id="L30">public class ApplicationStartupListener {</span>

	/**
	 * Before dispatcherServlet and before jetty is up Ideal for performing
	 * pre-startup activities
	 */
	@EventListener(ApplicationPreparedEvent.class)
	public void onApplicationPreparedEvent() {
<span class="nc" id="L38">		log.info(&quot;ApplicationPreparedEvent -- START&quot;);</span>
		// fieldMapLoader.loadCasteHierarchyData();
<span class="nc" id="L40">		log.info(&quot;ApplicationPreparedEvent -- END&quot;);</span>
<span class="nc" id="L41">	}</span>

	/**
	 * Called just after ApplicationPreparedEvent AND once at context
	 * initialization Not good for performing startup actions as it is called
	 * twice Should be used when activities need to be performed at all
	 * ApplicationContext refresh Default value for @EventListener
	 * (ThreadLoggingInitializer)
	 */
	@EventListener(ContextRefreshedEvent.class)
	public void onContextRefreshedEvent() {
<span class="fc" id="L52">		log.info(&quot;ContextRefreshedEvent -- START&quot;);</span>

<span class="fc" id="L54">		log.info(&quot;ContextRefreshedEvent -- END&quot;);</span>
<span class="fc" id="L55">	}</span>

	// not working
	@EventListener(ContextStartedEvent.class)
	public void onContextStartedEvent() {
<span class="nc" id="L60">		log.info(&quot;ContextStartedEvent -- START&quot;);</span>

<span class="nc" id="L62">		log.info(&quot;ContextStartedEvent -- END&quot;);</span>
<span class="nc" id="L63">	}</span>

	// not tested
	@EventListener(ContextStoppedEvent.class)
	public void onContextStoppedEvent() {
<span class="nc" id="L68">		log.info(&quot;ContextStoppedEvent -- START&quot;);</span>

<span class="nc" id="L70">		log.info(&quot;ContextStoppedEvent -- END&quot;);</span>
<span class="nc" id="L71">	}</span>

	/**
	 * Called after ApplicationFailedEvent when application fails to start
	 */
	@EventListener(ContextClosedEvent.class)
	public void onContextClosedEvent() {
<span class="nc" id="L78">		log.info(&quot;ContextClosedEvent -- START&quot;);</span>

<span class="nc" id="L80">		log.info(&quot;ContextClosedEvent -- END&quot;);</span>
<span class="nc" id="L81">	}</span>

	// not working
	@EventListener(ApplicationEnvironmentPreparedEvent.class)
	public void onApplicationEnvironmentPreparedEvent() {
<span class="nc" id="L86">		log.info(&quot;ApplicationEnvironmentPreparedEvent -- START&quot;);</span>

<span class="nc" id="L88">		log.info(&quot;ApplicationEnvironmentPreparedEvent -- END&quot;);</span>
<span class="nc" id="L89">	}</span>

	/**
	 * Called after stopping jetty service connector and destroying Spring
	 * dispatcherServlet
	 */
	@EventListener(ApplicationFailedEvent.class)
	public void onApplicationFailedEvent() {
<span class="nc" id="L97">		log.info(&quot;ApplicationFailedEvent -- START&quot;);</span>

<span class="nc" id="L99">		log.info(&quot;ApplicationFailedEvent -- END&quot;);</span>
<span class="nc" id="L100">	}</span>

	/**
	 * Called after jetty listener is up
	 */
	@EventListener(ApplicationReadyEvent.class)
	public void onApplicationReadyEvent() {
<span class="fc" id="L107">		log.info(&quot;ApplicationReadyEvent -- START&quot;);</span>

<span class="fc" id="L109">		log.info(&quot;ApplicationReadyEvent -- END&quot;);</span>
<span class="fc" id="L110">	}</span>

	// not working
	@EventListener(ApplicationStartingEvent.class)
	public void onApplicationStartingEvent() {
<span class="nc" id="L115">		log.info(&quot;ApplicationStartingEvent -- START&quot;);</span>

<span class="nc" id="L117">		log.info(&quot;ApplicationStartingEvent -- END&quot;);</span>
<span class="nc" id="L118">	}</span>

	// not working
	@EventListener(ApplicationStartedEvent.class)
	public void onApplicationStartedEvent() {
<span class="nc" id="L123">		log.info(&quot;ApplicationStartedEvent -- START&quot;);</span>

<span class="nc" id="L125">		log.info(&quot;ApplicationStartedEvent -- END&quot;);</span>
<span class="nc" id="L126">	}</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.1.201405082137</span></div></body></html>